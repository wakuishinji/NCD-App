name = "ncd-app"
main = "./functions/index.js"
account_id = "ac0368dfc48fccd5c736a34c04c05e72"
compatibility_date = "2025-09-07"

# [vars] moved to secrets-only usage
# OPENAI_API_KEY moved to secrets (set via `wrangler secret put OPENAI_API_KEY` or env var for local dev)

[[kv_namespaces]]
binding = "SETTINGS"
id = "93471e6681f74377ab8c654c08c19eac"
preview_id = "0bab0d461acc4e54bca925c9ca383db2"

[[r2_buckets]]
binding = "MEDIA"
bucket_name = "ncd-clinic-media"
preview_bucket_name = "ncd-clinic-media-preview"

[[d1_databases]]
binding = "MASTERS_D1"
database_name = "ncd-masters"
database_id = "2d601bc3-8a3c-45f6-bb43-d9be3b64ee17"
preview_database_id = "888a0e58-a8b3-40d9-a709-0231f63ac720"

[env.staging]
name = "ncd-app-staging"
main = "./functions/index.js"
compatibility_date = "2025-09-07"

  [[env.staging.d1_databases]]
  binding = "MASTERS_D1"
  database_name = "ncd-masters"
  database_id = "888a0e58-a8b3-40d9-a709-0231f63ac720"

[env.production]
name = "ncd-app-production"
main = "./functions/index.js"
compatibility_date = "2025-09-07"

  [[env.production.d1_databases]]
  binding = "MASTERS_D1"
  database_name = "ncd-masters"
  database_id = "2d601bc3-8a3c-45f6-bb43-d9be3b64ee17"
